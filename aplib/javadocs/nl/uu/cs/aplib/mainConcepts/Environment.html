<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (16) on Sat Dec 24 22:25:03 CET 2022 -->
<title>Environment</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2022-12-24">
<meta name="description" content="declaration: package: nl.uu.cs.aplib.mainConcepts, class: Environment">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar.top">
<div class="skip-nav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar.top.firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/Environment.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip.navbar.top">
<!--   -->
</span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">nl.uu.cs.aplib.mainConcepts</a></div>
<h1 title="Class Environment" class="title">Class Environment</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">nl.uu.cs.aplib.mainConcepts.Environment</div>
</div>
<section class="description">
<dl class="notes">
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="../environments/ConsoleEnvironment.html" title="class in nl.uu.cs.aplib.environments">ConsoleEnvironment</a></code>, <code><a href="../exampleUsages/fiveGame/FiveGameEnv.html" title="class in nl.uu.cs.aplib.exampleUsages.fiveGame">FiveGameEnv</a></code>, <code><a href="../../../../../eu/iv4xr/framework/mainConcepts/Iv4xrEnvironment.html" title="class in eu.iv4xr.framework.mainConcepts">Iv4xrEnvironment</a></code>, <code><a href="../environments/JsonEnvironment.html" title="class in nl.uu.cs.aplib.environments">JsonEnvironment</a></code>, <code><a href="../environments/NullEnvironment.html" title="class in nl.uu.cs.aplib.environments">NullEnvironment</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">Environment</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">In aplib, agents (instances of <a href="BasicAgent.html" title="class in nl.uu.cs.aplib.mainConcepts"><code>BasicAgent</code></a> or its subclasses) are used
 to interact and control an environment. This class is a root class for
 representing this environment. This class is just a template, and is meant to be
 <b>extended/subclassed</b>. For a minimalistic example implementation, see
 the class <a href="../environments/ConsoleEnvironment.html" title="class in nl.uu.cs.aplib.environments"><code>ConsoleEnvironment</code></a>.
 
 <p> Let's call the environment that we try to interact with
 through this class <i>the actual environment</i>. To interact an agent
 (or anything else) invoke the method <a href="#sendCommand(java.lang.String,java.lang.String,java.lang.String,java.lang.Object)"><code>sendCommand(String, String, String, Object)</code></a>,
 specifying the name of the command and an object to be sent along as a
 parameter, if we have one. The method returns an object that the actual
 environment sends back as the reply to the given command.
 
 <p>Being just a template, this class does not know
 what commands are available, nor does it know how to send it to the actual
 environment. This depends on the concrete actual environment that you use.
 Therefore, it is your responsibilty to implement sendCommand in your
 concrete subclass of this class Environment. More precisely you need
 to implement the method <a href="#sendCommand_(nl.uu.cs.aplib.mainConcepts.Environment.EnvOperation)"><code>sendCommand_(EnvOperation)</code></a> (rather than
 the previously said sendCommand).
 
 <p>Additionally you need to provide implementations of:
 
    <ol>
    
    <li> <a href="#observe(java.lang.String)"><code>observe(String)</code></a> to ask the real environment to send back
    information about its state. It is recommended that you implement this
    method by calling <a href="#sendCommand(java.lang.String,java.lang.String,java.lang.String,java.lang.Object)"><code>sendCommand(String, String, String, Object)</code></a>,
    passing to it the right parameters that correspond to an 'observe' command.
    
    <li> <a href="#resetWorker()"><code>resetWorker()</code></a> to reset the state of your actual environment.
    </ol>
 
 <p>
 An implementation of Environment can in principle provide more methods to
 access the real environment. It is recommended that you implement them by
 translating them to calls to
 <a href="#sendCommand(java.lang.String,java.lang.String,java.lang.String,java.lang.Object)"><code>sendCommand(String, String, String, Object)</code></a>. If you
 implement your own, by-passing <code>sendCommand</code>, make sure that you call
 <a href="#instrument(nl.uu.cs.aplib.mainConcepts.Environment.EnvOperation)"><code>instrument(EnvOperation)</code></a>, or else calls to your custom methods will
 not be seen by the instrumenters (see below).
 
 <p>
 The class also has a <b>debug=instrumentation</b> facility. You can register
 instances of the class <a href="Environment.EnvironmentInstrumenter.html" title="interface in nl.uu.cs.aplib.mainConcepts"><code>Environment.EnvironmentInstrumenter</code></a> to an Environment.
 Whenever an agent invokes a method (<code>refresh()</code> and
 <code>sendCommand(...)</code>) of the Environment, and if the Environment's
 debug-mode is turned on, it will trigger a call to the <code>update()</code>
 method of each registered instrumenter, giving it an opportunity to peek into
 the Environment state, e.g. for the purpose of checking some correctness
 property.</div>
<dl class="notes">
<dt>Author:</dt>
<dd>wish</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested.class.summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static interface&nbsp;</code></div>
<div class="col-second even-row-color"><code><span class="member-name-link"><a href="Environment.EnvironmentInstrumenter.html" title="interface in nl.uu.cs.aplib.mainConcepts">Environment.EnvironmentInstrumenter</a></span></code></div>
<div class="col-last even-row-color">
<div class="block">An interface for instrumenters that you can attach to an environment.</div>
</div>
<div class="col-first odd-row-color"><code>static class&nbsp;</code></div>
<div class="col-second odd-row-color"><code><span class="member-name-link"><a href="Environment.EnvOperation.html" title="class in nl.uu.cs.aplib.mainConcepts">Environment.EnvOperation</a></span></code></div>
<div class="col-last odd-row-color">
<div class="block">An instance of this class is used to record a command that an agent sent to
 the real environment through an instance of <a href="Environment.html" title="class in nl.uu.cs.aplib.mainConcepts"><code>Environment</code></a>.</div>
</div>
</div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field.summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>(package private) boolean</code></div>
<div class="col-second even-row-color"><code><span class="member-name-link"><a href="#debugmode">debugmode</a></span></code></div>
<div class="col-last even-row-color">
<div class="block">When true, this will enable some tracking to help debugging.</div>
</div>
<div class="col-first odd-row-color"><code>(package private) <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="Environment.EnvironmentInstrumenter.html" title="interface in nl.uu.cs.aplib.mainConcepts">Environment.EnvironmentInstrumenter</a>&gt;</code></div>
<div class="col-second odd-row-color"><code><span class="member-name-link"><a href="#instrumenters">instrumenters</a></span></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>(package private) <a href="Environment.EnvOperation.html" title="class in nl.uu.cs.aplib.mainConcepts">Environment.EnvOperation</a></code></div>
<div class="col-second even-row-color"><code><span class="member-name-link"><a href="#lastOperation">lastOperation</a></span></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>(package private) <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/locks/ReentrantLock.html" title="class or interface in java.util.concurrent.locks" class="external-link">ReentrantLock</a></code></div>
<div class="col-second odd-row-color"><code><span class="member-name-link"><a href="#lock">lock</a></span></code></div>
<div class="col-last odd-row-color">
<div class="block">Providing a lock to the entire Environment.</div>
</div>
<div class="col-first even-row-color"><code>protected <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/Logger.html" title="class or interface in java.util.logging" class="external-link">Logger</a></code></div>
<div class="col-second even-row-color"><code><span class="member-name-link"><a href="#logger">logger</a></span></code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor.summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><span class="member-name-link"><a href="#%3Cinit%3E()">Environment</a></span>()</code></div>
<div class="col-last even-row-color">
<div class="block">Create an instance of this environment.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method.summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><a href="Environment.EnvOperation.html" title="class in nl.uu.cs.aplib.mainConcepts">Environment.EnvOperation</a></code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#getLastOperation()">getLastOperation</a></span>()</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">Return the last "operation" that this environment does.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>protected void</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#instrument(nl.uu.cs.aplib.mainConcepts.Environment.EnvOperation)">instrument</a></span>&#8203;(<a href="Environment.EnvOperation.html" title="class in nl.uu.cs.aplib.mainConcepts">Environment.EnvOperation</a>&nbsp;operation)</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">Will record the id of the party that trigger this instrumentation step and
 then call the update() method of every instrumenter registered to this
 environement.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#observe(java.lang.String)">observe</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;invokerId)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">Ask the real environment to return an observation (the state of the real 
 environment) from the perspective of the invokerId.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><a href="Environment.html" title="class in nl.uu.cs.aplib.mainConcepts">Environment</a></code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#registerInstrumenter(nl.uu.cs.aplib.mainConcepts.Environment.EnvironmentInstrumenter)">registerInstrumenter</a></span>&#8203;(<a href="Environment.EnvironmentInstrumenter.html" title="interface in nl.uu.cs.aplib.mainConcepts">Environment.EnvironmentInstrumenter</a>&nbsp;I)</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">Register the given instrumenter to this environment.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><a href="Environment.html" title="class in nl.uu.cs.aplib.mainConcepts">Environment</a></code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#removeInstrumenter(nl.uu.cs.aplib.mainConcepts.Environment.EnvironmentInstrumenter)">removeInstrumenter</a></span>&#8203;(<a href="Environment.EnvironmentInstrumenter.html" title="interface in nl.uu.cs.aplib.mainConcepts">Environment.EnvironmentInstrumenter</a>&nbsp;I)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#resetAndInstrument()">resetAndInstrument</a></span>()</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">This will will call [@link #resetWorker()} and additionally reset this
 Environment's active instrumenters.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>void</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#resetWorker()">resetWorker</a></span>()</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">This will reset the actual environment.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#sendCommand(java.lang.String,java.lang.String,java.lang.String,java.lang.Object)">sendCommand</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;invokerId,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;targetId,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;command,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;arg)</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">A simplified version of the other sendCommand where the expectedTypeOfResult
 parameter is left unspecified (set to null).</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#sendCommand(java.lang.String,java.lang.String,java.lang.String,java.lang.Object,java.lang.Class)">sendCommand</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;invokerId,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;targetId,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;command,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;arg,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&nbsp;expectedTypeOfResult)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">Send the specified command to the environment.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>protected <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#sendCommand_(nl.uu.cs.aplib.mainConcepts.Environment.EnvOperation)">sendCommand_</a></span>&#8203;(<a href="Environment.EnvOperation.html" title="class in nl.uu.cs.aplib.mainConcepts">Environment.EnvOperation</a>&nbsp;cmd)</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">Override this method to implement an actual Environment.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><a href="Environment.html" title="class in nl.uu.cs.aplib.mainConcepts">Environment</a></code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#turnOffDebugInstrumentation()">turnOffDebugInstrumentation</a></span>()</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><a href="Environment.html" title="class in nl.uu.cs.aplib.mainConcepts">Environment</a></code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#turnOnDebugInstrumentation()">turnOnDebugInstrumentation</a></span>()</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">To turn on debug-instrumentation facility.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field.detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="lock">
<h3>lock</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/locks/ReentrantLock.html" title="class or interface in java.util.concurrent.locks" class="external-link">ReentrantLock</a></span>&nbsp;<span class="element-name">lock</span></div>
<div class="block">Providing a lock to the entire Environment. This is used by
 <a href="BasicAgent.html" title="class in nl.uu.cs.aplib.mainConcepts"><code>BasicAgent</code></a> to make sure that agents get exclusive access to an
 Environment when they want to do something with it.</div>
</section>
</li>
<li>
<section class="detail" id="debugmode">
<h3>debugmode</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">debugmode</span></div>
<div class="block">When true, this will enable some tracking to help debugging.</div>
</section>
</li>
<li>
<section class="detail" id="logger">
<h3>logger</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/Logger.html" title="class or interface in java.util.logging" class="external-link">Logger</a></span>&nbsp;<span class="element-name">logger</span></div>
</section>
</li>
<li>
<section class="detail" id="lastOperation">
<h3>lastOperation</h3>
<div class="member-signature"><span class="return-type"><a href="Environment.EnvOperation.html" title="class in nl.uu.cs.aplib.mainConcepts">Environment.EnvOperation</a></span>&nbsp;<span class="element-name">lastOperation</span></div>
</section>
</li>
<li>
<section class="detail" id="instrumenters">
<h3>instrumenters</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="Environment.EnvironmentInstrumenter.html" title="interface in nl.uu.cs.aplib.mainConcepts">Environment.EnvironmentInstrumenter</a>&gt;</span>&nbsp;<span class="element-name">instrumenters</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor.detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>Environment</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">Environment</span>()</div>
<div class="block">Create an instance of this environment.</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method.detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="resetAndInstrument()">
<h3>resetAndInstrument</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">resetAndInstrument</span>()</div>
<div class="block">This will will call [@link #resetWorker()} and additionally reset this
 Environment's active instrumenters.</div>
</section>
</li>
<li>
<section class="detail" id="resetWorker()">
<h3>resetWorker</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">resetWorker</span>()</div>
<div class="block">This will reset the actual environment. By reset we mean to put it back in
 some initial state. In reality this may involve re-deploying the environment.
 It is your responsibility to make sure that after calling this method the
 environment is indeed available and is in a legal initial state.
 
 <p>
 This implementation does not do anything; you should override this when
 implementing your own specific Environment.</div>
</section>
</li>
<li>
<section class="detail" id="sendCommand(java.lang.String,java.lang.String,java.lang.String,java.lang.Object,java.lang.Class)">
<h3>sendCommand</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span>&nbsp;<span class="element-name">sendCommand</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;invokerId,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;targetId,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;command,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;arg,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&nbsp;expectedTypeOfResult)</span></div>
<div class="block">Send the specified command to the environment. This method also anticipates
 that the environment is populated by multiple reactive entities, so the
 command includes an ID if addressing a specific entity in the environment is
 needed.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>invokerId</code> - A unique ID identifying the invoker of this
                             method, e.g. in the format agentid.actionid.</dd>
<dd><code>targetId</code> - The unique ID of the object in the real
                             environment to which the command is directed.</dd>
<dd><code>command</code> - The name of the command.</dd>
<dd><code>arg</code> - The arguments to be passed along with the
                             command.</dd>
<dd><code>expectedTypeOfResult</code> - If non-null, specifies the expected type of the
                             result of this command.</dd>
<dt>Returns:</dt>
<dd>an object returned by the real environment as the result of the
         command, if any. If the expectedTypeOfResult parameter is not null,
         then this returned object should be an instance of the class
         specified by the expectedTypeOfResult parameter.
 
         <p>
         The method may also throws a runtime exception.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="sendCommand(java.lang.String,java.lang.String,java.lang.String,java.lang.Object)">
<h3>sendCommand</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span>&nbsp;<span class="element-name">sendCommand</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;invokerId,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;targetId,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;command,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;arg)</span></div>
<div class="block">A simplified version of the other sendCommand where the expectedTypeOfResult
 parameter is left unspecified (set to null). When using this method the agent
 is assumed to somehow know what the runtime type of the returned object would
 be.</div>
</section>
</li>
<li>
<section class="detail" id="observe(java.lang.String)">
<h3>observe</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span>&nbsp;<span class="element-name">observe</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;invokerId)</span></div>
<div class="block">Ask the real environment to return an observation (the state of the real 
 environment) from the perspective of the invokerId. E.g. this id may
 identifies a simulated player in a game. The returned observation would
 then be the game state as seen by the player rather than the state of
 the entire game.
 
 <p>You have to provide a concrete implementation of this method. Do
 implement it by calling the method <a href="#sendCommand(java.lang.String,java.lang.String,java.lang.String,java.lang.Object)"><code>sendCommand(String, String, String, Object)</code></a>,
 passing to it the right parameters that is needed to make the environment
 to send back an observation.</div>
</section>
</li>
<li>
<section class="detail" id="sendCommand_(nl.uu.cs.aplib.mainConcepts.Environment.EnvOperation)">
<h3>sendCommand_</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span>&nbsp;<span class="element-name">sendCommand_</span>&#8203;<span class="parameters">(<a href="Environment.EnvOperation.html" title="class in nl.uu.cs.aplib.mainConcepts">Environment.EnvOperation</a>&nbsp;cmd)</span></div>
<div class="block">Override this method to implement an actual Environment.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>cmd</code> - representing the command to send to the real environment.</dd>
<dt>Returns:</dt>
<dd>an object that the real environment sends back as the result of the
         command, if any. If the cmd specifies what the expected type of the
         returned object, then this method should guarantee that the returned
         object is indeed an instance of the specified type.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="turnOnDebugInstrumentation()">
<h3>turnOnDebugInstrumentation</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Environment.html" title="class in nl.uu.cs.aplib.mainConcepts">Environment</a></span>&nbsp;<span class="element-name">turnOnDebugInstrumentation</span>()</div>
<div class="block">To turn on debug-instrumentation facility. Return this environemnt to allow
 the method to be used in the Fluent Interface style.</div>
</section>
</li>
<li>
<section class="detail" id="turnOffDebugInstrumentation()">
<h3>turnOffDebugInstrumentation</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Environment.html" title="class in nl.uu.cs.aplib.mainConcepts">Environment</a></span>&nbsp;<span class="element-name">turnOffDebugInstrumentation</span>()</div>
</section>
</li>
<li>
<section class="detail" id="getLastOperation()">
<h3>getLastOperation</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Environment.EnvOperation.html" title="class in nl.uu.cs.aplib.mainConcepts">Environment.EnvOperation</a></span>&nbsp;<span class="element-name">getLastOperation</span>()</div>
<div class="block">Return the last "operation" that this environment does. This is either a
 "refresh" (e.g. invoked by an agent), or a command this environment sends to
 the real environment.
 
 <p>
 Note that the tracking of last-operation is only enabled when the debug-mode
 of this environment is turned on.</div>
</section>
</li>
<li>
<section class="detail" id="instrument(nl.uu.cs.aplib.mainConcepts.Environment.EnvOperation)">
<h3>instrument</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">instrument</span>&#8203;<span class="parameters">(<a href="Environment.EnvOperation.html" title="class in nl.uu.cs.aplib.mainConcepts">Environment.EnvOperation</a>&nbsp;operation)</span></div>
<div class="block">Will record the id of the party that trigger this instrumentation step and
 then call the update() method of every instrumenter registered to this
 environement.</div>
</section>
</li>
<li>
<section class="detail" id="registerInstrumenter(nl.uu.cs.aplib.mainConcepts.Environment.EnvironmentInstrumenter)">
<h3>registerInstrumenter</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Environment.html" title="class in nl.uu.cs.aplib.mainConcepts">Environment</a></span>&nbsp;<span class="element-name">registerInstrumenter</span>&#8203;<span class="parameters">(<a href="Environment.EnvironmentInstrumenter.html" title="interface in nl.uu.cs.aplib.mainConcepts">Environment.EnvironmentInstrumenter</a>&nbsp;I)</span></div>
<div class="block">Register the given instrumenter to this environment. This will cause the
 update() method of the instrumenter to be invoked whenether some agent invoke
 some method of this environment.</div>
</section>
</li>
<li>
<section class="detail" id="removeInstrumenter(nl.uu.cs.aplib.mainConcepts.Environment.EnvironmentInstrumenter)">
<h3>removeInstrumenter</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Environment.html" title="class in nl.uu.cs.aplib.mainConcepts">Environment</a></span>&nbsp;<span class="element-name">removeInstrumenter</span>&#8203;<span class="parameters">(<a href="Environment.EnvironmentInstrumenter.html" title="interface in nl.uu.cs.aplib.mainConcepts">Environment.EnvironmentInstrumenter</a>&nbsp;I)</span></div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
